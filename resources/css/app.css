@import "tailwindcss";
@source "../js/**/*.js";
@source "../views/**/*.blade.php";

@custom-variant dark (&:where(.dark, .dark *));

@theme {
    /* Warna Utama */
    --color-primary: #D97706; /* Amber-600 */
    --color-primary-dark: #78350F;
    --color-primary-mid: #92400E;
    --color-primary-light: #FCD34D;
    --color-accent: #F59E0B;

    /* Warna Tambahan untuk Hover yang Jelas */
    --color-primary-hover: #B45309; /* Amber-700 (Lebih Gelap) */
    --color-surface-hover: #E2D1B3; /* Krem lebih gelap untuk hover light mode */
    --color-surface-dark-hover: #2D2420; /* Cokelat sangat tua untuk hover dark mode */

    /* Warna Background */
    --color-background-light: #EFEBE4;
    --color-background-dark: #120C0A;
    
    --color-surface: #E6D8C5; /* Krem (Light Mode) */
    --color-surface-dark: #1E1612; /* Cokelat Espresso (Dark Mode) */

    --color-input-dark: #2c1e18;
    --color-border-dark: #4a352a;

    /* Font */
    --font-display: "Spline Sans", "Noto Sans", sans-serif;
    --font-body: "Noto Sans", sans-serif;
}

/* HAPUS GLOBAL TRANSITION YANG BERBAHAYA (Causes flickering & performance issues) */
/* body, div, ... { ... }  <-- DIHAPUS */

button:not(:disabled), a, input[type="submit"], input[type="button"], input[type="reset"], label[for], select, .cursor-pointer {
    cursor: pointer;
}

button:disabled, input:disabled, select:disabled, textarea:disabled, .cursor-not-allowed {
    cursor: not-allowed !important;
    opacity: 0.6 !important;
}

/* Transisi Fade Background (Hanya aktif saat class theme-animating ada) */
.theme-animating, 
.theme-animating header, 
.theme-animating aside, 
.theme-animating main {
    transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1), border-color 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Warna Background */
body {
    background-color: var(--color-background-light);
    color: #1e293b;
}

:root.dark body {
    background-color: var(--color-background-dark);
    color: white;
}

/* Transisi halus khusus elemen UI penting saja */
nav, input, button, table, tr, td, th {
    transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
}

/* Custom Scrollbar - Brown Themed */
::-webkit-scrollbar {
    width: 6px; 
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background-color: rgba(146, 64, 14, 0.3); /* Coklat transparan (Primary Mid) */
    border-radius: 20px;
    transition: background-color 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
    background-color: rgba(146, 64, 14, 0.6); /* Lebih pekat saat hover */
}

/* Dark Mode Scrollbar */
:root.dark ::-webkit-scrollbar-thumb {
    background-color: #4a352a; /* Cokelat gelap (Border Dark) */
}

:root.dark ::-webkit-scrollbar-thumb:hover {
    background-color: #D97706; /* Amber Highlight saat hover */
}

/* --- ANIMASI TOMBOL GLOBAL (Bouncy/Spring Effect) --- */
button:not(:disabled), .btn-animated {
    /* Pisahkan transisi agar transform punya timing function sendiri (bouncy), 
       sedangkan warna/shadow pakai standar (linear/ease) */
    transition: 
        transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1),
        background-color 0.2s ease,
        color 0.2s ease,
        box-shadow 0.2s ease,
        border-color 0.2s ease;
        
    /* Hardware Acceleration Hints */
    transform-style: preserve-3d;
    backface-visibility: hidden; 
    will-change: transform;
}

button:not(:disabled):hover, .btn-animated:hover {
    transform: scale(1.05); /* Membesar sedikit (5%) */
}

button:not(:disabled):active, .btn-animated:active {
    transform: scale(0.95); /* Mengecil sedikit saat ditekan */
}

/* Pengecualian untuk tombol di sidebar (KECUALI tombol close & logout) atau navigasi jika tidak ingin goyang */
#sidebar button:not(#close-sidebar):not(.form-logout button), nav button, .no-bounce {
    transform: none !important;
}

/* Mengembalikan efek hover sidebar agar tidak scale tapi ganti warna saja atau geser sedikit */
#sidebar a:hover, #sidebar button:not(#close-sidebar):not(.form-logout button):hover {
    transform: translateX(4px) !important; /* Geser kanan sedikit alih-alih scale */
}

/* --- CUSTOM ANIMATIONS --- */
@keyframes enter {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.animate-enter {
    animation: enter 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes fade {
    from { opacity: 0; }
    to { opacity: 1; }
}

.animate-fade {
    animation: fade 1.5s ease-out forwards;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.animate-spin-fast {
    animation: spin 0.8s linear infinite;
}

/* --- LOADING STATES FOR BUTTONS --- */
.btn-loading-state {
    position: relative;
    transition: all 0.3s ease;
}

.btn-loading-state.loading {
    pointer-events: none;
    opacity: 0.8;
}

/* Light Mode Loading */
.btn-loading-state.loading.bg-white {
    background-color: #f1f5f9 !important; /* slate-100 */
    border-color: #cbd5e1 !important; /* slate-300 */
    color: #64748b !important; /* slate-500 */
}

/* Dark Mode Loading */
.dark .btn-loading-state.loading.bg-white {
    background-color: rgba(255, 255, 255, 0.05) !important;
    border-color: rgba(255, 255, 255, 0.1) !important;
    color: rgba(255, 255, 255, 0.3) !important;
}

/* Primary Button Loading States */
.btn-loading-state.loading.bg-primary {
    background-color: var(--color-primary-mid) !important;
    opacity: 0.9;
}

.dark .btn-loading-state.loading.bg-primary {
    background-color: #451a03 !important; /* very dark brown */
    opacity: 0.8;
}

/* Content Toggling during Loading */
.loading-spinner {
    display: none;
}

.loading .loading-spinner {
    display: block;
}

.loading .default-icon {
    display: none;
}
